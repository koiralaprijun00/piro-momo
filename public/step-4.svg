<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 400">
  <!-- Background grid -->
  <defs>
    <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#eee" stroke-width="0.5"/>
    </pattern>
    <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
      <rect width="100" height="100" fill="url(#smallGrid)"/>
      <path d="M 100 0 L 0 0 0 100" fill="none" stroke="#ddd" stroke-width="1"/>
    </pattern>
  </defs>
  <rect width="100%" height="100%" fill="url(#grid)" opacity="0.6" />
  
  <!-- Basic flag triangles structure -->
  <polygon points="100,100 100,200 300,200" fill="#DC143C" fill-opacity="0.15" stroke="#DC143C" stroke-width="1.5"/>
  <polygon points="100,200 100,300 300,300" fill="#DC143C" fill-opacity="0.15" stroke="#DC143C" stroke-width="1.5"/>
  
  <!-- Moon from previous step (simplified) -->
  <path d="M 200,95 
           A 30,30 0 0,1 200,155 
           A 25,25 0 0,0 180,100
           A 25,25 0 0,0 180,150
           A 30,30 0 0,1 200,95" 
        fill="#FFFFFF" stroke="#003893" stroke-width="1" opacity="0.5"/>
  
  <!-- Key points from previous steps -->
  <circle cx="100" cy="300" r="4" fill="#000"/>
  <text x="85" y="315" font-family="Arial" font-size="14" fill="#000">A</text>
  
  <circle cx="300" cy="300" r="4" fill="#000"/>
  <text x="310" y="315" font-family="Arial" font-size="14" fill="#000">B</text>
  
  <circle cx="100" cy="100" r="4" fill="#000"/>
  <text x="85" y="95" font-family="Arial" font-size="14" fill="#000">C</text>
  
  <circle cx="100" cy="200" r="4" fill="#000"/>
  <text x="85" y="210" font-family="Arial" font-size="14" fill="#000">F</text>
  
  <!-- Point U (midpoint of AF) -->
  <circle cx="100" cy="250" r="4" fill="#0000FF"/>
  <text x="85" y="255" font-family="Arial" font-size="14" fill="#0000FF">U</text>
  
  <!-- Vertical line UV -->
  <line x1="100" y1="250" x2="200" y2="250" stroke="#0000FF" stroke-width="2" stroke-dasharray="6,3"/>
  
  <!-- Point V -->
  <circle cx="200" cy="250" r="4" fill="#0000FF"/>
  <text x="185" y="255" font-family="Arial" font-size="14" fill="#0000FF">V</text>
  
  <!-- Horizontal line (from previous step, for reference) -->
  <line x1="150" y1="225" x2="250" y2="225" stroke="#0000FF" stroke-width="1" stroke-dasharray="4,2" opacity="0.5"/>
  
  <!-- Point W (intersection) -->
  <circle cx="200" cy="250" r="5" fill="#FF0000"/>
  <text x="212" y="245" font-family="Arial" font-size="14" fill="#FF0000">W</text>
  
  <!-- Outer circle for sun -->
  <circle cx="200" cy="250" r="30" fill="none" stroke="#0000FF" stroke-width="1.5"/>
  
  <!-- Inner circle for sun -->
  <circle cx="200" cy="250" r="20" fill="none" stroke="#0000FF" stroke-width="1.5" stroke-dasharray="4,2"/>
  
  <!-- 12 rays of the sun -->
  <path d="M 200,220 L 205,230 L 215,225 L 212,235 L 225,235 L 215,245 L 225,255 L 212,255 L 215,265 L 205,260 L 200,270 L 195,260 L 185,265 L 188,255 L 175,255 L 185,245 L 175,235 L 188,235 L 185,225 L 195,230 Z" 
        fill="#FFFFFF" stroke="#003893" stroke-width="1"/>
  
  <!-- Highlight for U as midpoint -->
  <line x1="100" y1="245" x2="100" y2="255" stroke="#0000FF" stroke-width="1"/>
  <text x="40" y="280" font-family="Arial" font-size="12" fill="#0000FF">U is midpoint of AF</text>
</svg>
